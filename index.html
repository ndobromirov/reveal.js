<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName('head')[0].appendChild(link);
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-markdown>
          # Fast Web UI 101

          Nikolay Dobromirov
        </section>

        <section data-markdown>
          ## About me :]
          - PHP TL @ FFW Buldaria
          - Performance enthusiast
        </section>

        <section data-markdown>
          ## Overview
          - Server (last time)
          - Client
        </section>

        <section data-markdown>
          ## Server
          - Accepts a request
          - Generates a response... Complicated...
          - HTTP / Page cache.
        </section>

        <section data-markdown>
          ## Client
          - Requests resources from server.
          - Fetches responses through a network
          - Displays the resourses...
        </section>

        <section data-markdown>
          ## Life of a page...
          - Fetch document
          - Parse document
          - Fetch critical resources.
          - Parse critical resources.
          - And we have a page :D
          - ...
        </section>

        <section data-markdown>
          ## A critical resource.
          - All CSS files
          - Blocking JS in header.
        </section>

        <section data-markdown>
          ## Fetching data:
          - Connectiopn & Networking (101)
          - Throughput
          - RTT
          - TCP Initial window size :(
        </section>

        <section data-markdown>
          ## Parsing data
          - HTML - DOM tree.
          - CSS - rules tree.
          - JS - script parsing & execution !!!
          - Fonts - tricky
          - Images - rendering.
          - Videos [Oh hell no]
        </section>

        <section data-markdown>
          ## UI Performance
          - How fast we fetch stuff.
          - How fast we displkay them.
          - How many things :D
        </section>

        <section data-markdown>
          ## Performance budget
          - Networking
          - Time
          - Resources size
          - Other limits (tree depth)
        </section>

        <section data-markdown>
          ## Thinkgs to optimize:
          - Document
          - CSS
          - JS
          - Images
          - Fonts
          - Many others...
        </section>

        <section data-markdown>
          ## Ways to optimize
          - Network  / Delivery
          - Contents / structure
          - Faking it
        </section>

        <section data-markdown>
          ## Optimizing document:
          - Content reduction
          - Compression / Cache / CDN
          - Lazy Laoding (with AJAX / ESI)
          - Big-Pipe (D8)
        </section>

        <section data-markdown>
          ## Optimizing CSS:
          - Use a pre-processor.
          - File per component variation.
          - Reduce unused rules (UnCSS).
          - Inline critical CSS
          - Lazy load the rest with JS.
          - Aggregation - (HTTP 1.1 only)...
        </section>

        <section data-markdown>
          ## Optimizing JS:
          - Add only what you need.
          - Minify / Uglify
          - Load as late as possible.
          - Load in ASYNC way (if possible)
          - Stres, profile & optimize code.
          - Aggrgates - (HTTP 1.1 only)
        </section>

        <section data-markdown>
          ## Optimizing images:
          - Image size (resolution + quality)
          - Internals (format + meta-data).
        </section>

        <section data-markdown>
          ## Optimizing images (hybrid):
          - Srcset / picture - dedicated image for device.
          - Lazy loading.
          - Sprites (HTTP 1.1 only)
        </section>

        <section data-markdown>
          ## Optimizing images (faking it)
          - Placeholder colors
          - Placeholder thumbnails.
          - Inlining a base64 file
        </section>

        <section data-markdown>
          ## Fonts:
          - Big problem many solutions.
          - Google fonts VS performance :(
        </section>

        <section data-markdown>
          ## Performance budget
          - Force a limit on things.
          - Monitor the spendings
          - Optimize only when needed.
        </section>

        <section data-markdown>
          ## Tools (demos):
          - https://www.webpagetest.org/
          - https://developers.google.com/speed/pagespeed/insights/
          - Browser dev tools - throtling
          - Browser dev tools - profiler drupal.org
        </section>

        <section data-markdown>
          ## Discussion:
          - HTTP/3
          - Decoupled web apps.
        </section>

        <section data-markdown>
          # Questions
        </section>

        <section data-markdown>
          # Thank you
        </section>
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,
        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          {src: 'plugin/markdown/marked.js'},
          {src: 'plugin/markdown/markdown.js'},
          {src: 'plugin/notes/notes.js', async: true},
          {src: 'plugin/highlight/highlight.js', async: true, callback: function () {
              hljs.initHighlightingOnLoad();
            }}
        ]
      });
    </script>
  </body>
</html>
